# Local development only.
# Do NOT commit real secrets here. Copy to .env or .env.local and adjust paths as needed.

# SQLite database in the repo (relative path keeps it self-contained).
HEALTHARCHIVE_DATABASE_URL=sqlite:///./.dev-healtharchive.db

# Local archive root for crawl artifacts (kept inside the repo dir).
HEALTHARCHIVE_ARCHIVE_ROOT=./.dev-archive-root

# Optional: replay service base URL (enables `browseUrl` fields in the public API).
# Example (local pywb): http://127.0.0.1:8090
# Example (prod): https://replay.healtharchive.ca
# HEALTHARCHIVE_REPLAY_BASE_URL=http://127.0.0.1:8090

# Optional: directory containing cached replay preview images (homepage thumbnails).
# When set, /api/sources will expose `entryPreviewUrl` for sources that have a
# corresponding cached preview on disk.
# HEALTHARCHIVE_REPLAY_PREVIEW_DIR=./.dev-replay-previews

# Dev-only admin token to protect /api/admin/* and /metrics.
HEALTHARCHIVE_ADMIN_TOKEN=localdev-admin

# Optional: control default search ranking blend.
# - v1: text rank dominates (legacy)
# - v2: blended (text + authority/hubness/pagerank heuristics)
# HA_SEARCH_RANKING_VERSION=v2

# Optional: aggregated, privacy-preserving usage metrics (daily counts only).
# Used by the public reporting pages (`/status` and `/impact`) via `GET /api/usage`.
# Disable entirely if you do not want any usage counting.
HEALTHARCHIVE_USAGE_METRICS_ENABLED=1
HEALTHARCHIVE_USAGE_METRICS_WINDOW_DAYS=30

# Optional: change tracking + diff feeds (Phase 3).
# Disable if you are not running the change computation pipeline.
HEALTHARCHIVE_CHANGE_TRACKING_ENABLED=1

# Public site base URL for building absolute links (RSS feeds, etc.).
HEALTHARCHIVE_PUBLIC_SITE_URL=https://healtharchive.ca

# Comma-separated origins allowed for CORS (optional; defaults cover localhost and production domains).
# Example: http://localhost:3000,http://localhost:5173,https://healtharchive.ca
# HEALTHARCHIVE_CORS_ORIGINS=http://localhost:3000
